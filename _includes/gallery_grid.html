{% assign items = include.items | default: site.gallery %}
<div class="row g-3" id="gallery-grid">
{% for item in items %}
  {% if include.category %}
    {% assign cat = include.category %}
    {% assign has_tag = false %}
    {% for t in item.tags %}
      {% if t == cat %}{% assign has_tag = true %}{% endif %}
    {% endfor %}
    {% if has_tag != true %}
      {% continue %}
    {% endif %}
  {% endif %}
  <div class="col-12 col-sm-6 col-md-4 gallery-item" data-location="{{ item.location | downcase }}" data-style="{{ item.style | join: ' ' | downcase }}" data-theme="{{ item.theme | join: ' ' | downcase }}" data-reveal>
    <div class="card h-100">
      <a href="#" class="stretched-link text-decoration-none" data-lightbox data-img="{{ item.image | relative_url }}" data-alt="{{ item.alt }}" data-caption="{{ item.caption | escape }}">
        <img class="card-img-top gallery-card-img" src="{{ item.image | relative_url }}" alt="{{ item.alt }}" loading="lazy" />
      </a>
      <div class="card-body">
        <div class="small text-muted text-uppercase">{{ item.tags | join: ', ' }}</div>
        <div class="card-text">{{ item.caption }}</div>
      </div>
    </div>
  </div>
{% endfor %}
{% if items == empty %}
  <div class="col-12"><p>No items yet. Add some in <code>_gallery/</code> or via <a href="{{ '/admin/' | relative_url }}">CMS</a>.</p></div>
{% endif %}
</div>

